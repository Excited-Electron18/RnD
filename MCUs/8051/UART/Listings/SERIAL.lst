C51 COMPILER V9.60.7.0   SERIAL                                                            07/05/2023 17:22:18 PAGE 1   


C51 COMPILER V9.60.7.0, COMPILATION OF MODULE SERIAL
OBJECT MODULE PLACED IN .\Objects\SERIAL.obj
COMPILER INVOKED BY: C:\Keil_v5\C51\BIN\C51.EXE Header\SERIAL.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND PRINT(.\List
                    -ings\SERIAL.lst) TABS(2) OBJECT(.\Objects\SERIAL.obj)

line level    source

   1          #include "SERIAL.h"
   2          
   3          // --------------------------------------------------------------- Global variables
   4          char Rx_Buf[MAX_BUF_SIZE];
   5          unsigned int Rx_Len=0;
   6          
   7          // --------------------------------------------------------------- Function definition
   8          void UART_Init(void)
   9          {
  10   1        TMOD=0x20; // settings for 9600 Baudrate with 11.0592 MHz Crystal Oscillator 
  11   1        SCON=0x50;
  12   1        TL1=0xFD;
  13   1        TH1=0xFD;
  14   1        TR1=1;
  15   1      }
  16          
  17          void UART_Transmit_Byte(char ch)
  18          {
  19   1        SBUF=ch;
  20   1        while(!TI);
  21   1        TI=0;
  22   1      }
  23          
  24          void UART_Transmit_String(char *str)
  25          {
  26   1        while(*str!='\0')
  27   1        {
  28   2          UART_Transmit_Byte(*str);
  29   2          str++; 
  30   2        }
  31   1      } 
  32          
  33          char UART_Receive_Byte(void)
  34          {
  35   1        unsigned char ch;
  36   1        while(RI!=1);
  37   1        ch=SBUF;
  38   1        RI=0;
  39   1        return ch;
  40   1      }
  41          
  42          void UART_Receive_String(void)
  43          {
  44   1        char ch;
  45   1        Rx_Len=0;
  46   1        while(1)
  47   1          {   
  48   2            ch=UART_Receive_Byte();
  49   2            if((ch!='\r') && (ch!='\n'))
  50   2              {
  51   3                Rx_Buf[Rx_Len]=ch;
  52   3              }
  53   2            else
  54   2              {
C51 COMPILER V9.60.7.0   SERIAL                                                            07/05/2023 17:22:18 PAGE 2   

  55   3                Rx_Buf[Rx_Len]='\0';
  56   3                break;
  57   3              }
  58   2            Rx_Len++;
  59   2            if(Rx_Len>=MAX_BUF_SIZE)
  60   2                break;
  61   2          }
  62   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    103    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =     34    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
