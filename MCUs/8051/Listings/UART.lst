C51 COMPILER V9.60.7.0   UART                                                              07/06/2023 21:16:50 PAGE 1   


C51 COMPILER V9.60.7.0, COMPILATION OF MODULE UART
OBJECT MODULE PLACED IN .\Objects\UART.obj
COMPILER INVOKED BY: C:\Keil_v5\C51\BIN\C51.EXE Library\UART.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND PRINT(.\Listi
                    -ngs\UART.lst) TABS(2) OBJECT(.\Objects\UART.obj)

line level    source

   1          #include "UART.h"
   2          
   3          #if UART_TEST == 1
              // --------------------------------------------------------------- Global variables
              char Rx_Buf[MAX_BUF_SIZE];
              unsigned int Rx_Len=0;
              
              // --------------------------------------------------------------- Function definition
              void UART_Init(void)
              {
                TMOD=0x20; // settings for 9600 Baudrate with 11.0592 MHz Crystal Oscillator 
                SCON=0x50;
                TL1=0xFD;
                TH1=0xFD;
                TR1=1;
              }
              
              void UART_Transmit_Byte(char ch)
              {
                SBUF=ch;
                while(!TI);
                TI=0;
              }
              
              void UART_Transmit_String(char *str)
              {
                while(*str!='\0')
                {
                  UART_Transmit_Byte(*str);
                  str++; 
                }
              } 
              
              char UART_Receive_Byte(void)
              {
                unsigned char ch;
                while(RI!=1);
                ch=SBUF;
                RI=0;
                return ch;
              }
              
              void UART_Receive_String(void)
              {
                char ch;
                Rx_Len=0;
                while(1)
                  {   
                    ch=UART_Receive_Byte();
                    if((ch!='\r') && (ch!='\n'))
                      {
                        Rx_Buf[Rx_Len]=ch;
                      }
                    else
C51 COMPILER V9.60.7.0   UART                                                              07/06/2023 21:16:50 PAGE 2   

                      {
                        Rx_Buf[Rx_Len]='\0';
                        break;
                      }
                    Rx_Len++;
                    if(Rx_Len>=MAX_BUF_SIZE)
                        break;
                  }
              }
              
              #endif


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =   ----    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
